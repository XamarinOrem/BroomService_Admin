@using BroomServiceWeb.Helpers;
@using BroomServiceWeb.Resources;
<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>@Resource.broom_service</title>
    <link rel="icon" href="~/Content/images/favicon.ico" type="image/png" sizes="16x16">
    <environment include="Development">
        <link rel="stylesheet" href="~/Content/lib/bootstrap/dist/css/bootstrap.css" />
    </environment>
    <environment exclude="Development">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/css/bootstrap.min.css"
              asp-fallback-href="~/Content/lib/bootstrap/dist/css/bootstrap.min.css"
              asp-fallback-test-class="sr-only" asp-fallback-test-property="position" asp-fallback-test-value="absolute"
              crossorigin="anonymous"
              integrity="sha256-eSi1q2PG6J7g7ib17yAaWMcrr5GrtohYChqibrV7PBE=" />
    </environment>
    <link rel="stylesheet" href="~/Content/css/Site.css" />
    <!-- Animation Css -->
    <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">
    <link href="~/Content/css/font-awesome.min.css" rel="stylesheet" />
    <link href="~/Content/css/sidebar.css" rel="stylesheet" />
    <link href="~/Content/css/style.css" rel="stylesheet" />
    <link href="~/Content/css/PagedList.css" rel="stylesheet" />
</head>
<body>
    <div class="sidebar sidebar-hide-to-small sidebar-shrink sidebar-gestures">
        <div class="nano">
            <div class="nano-content">
                <div class="logo">
                    <a href="#">
                        <!-- <img src="assets/images/logo.png" alt="" /> -->
                        <img src="~/Content/images/logo_small.png" class="img-fluid" />
                    </a>
                </div>
                <ul class="clickActive">
                    <li class="active">
                        <a href="@Url.Action("Dashboard","Admin")"><i class="fa fa-home"></i> @Resource.dashboard  <span class="sidebar-collapse-icon ti-angle-down"></span></a>
                    </li>
                    <li>
                        <a class="sidebar-sub-toggle"><i class="fa fa-user-circle-o"></i>  @Resource.users  <span class="sidebar-collapse-icon ti-angle-down"></span></a>
                        <ul>
                            <li><a href="@Url.Action("Customers","Admin")">@Resource.customers</a></li>
                            <li><a href="@Url.Action("ServiceProviders","Admin")">@Resource.service_providers</a></li>
                            <li><a href="@Url.Action("Workers","Admin")">@Resource.workers</a></li>
                        </ul>
                    </li>
                    <li>
                        <a href="@Url.Action("CategoryList","Category")"><i class="fa fa-list"></i>  @Resource.service  <span class="sidebar-collapse-icon ti-angle-down"></span></a>

                    </li>
                    <li>
                        <a href="@Url.Action("SubCategoryList","Category")"><i class="fa fa-tasks"></i>  @Resource.sub_service  <span class="sidebar-collapse-icon ti-angle-down"></span></a>

                    </li>
                    <li>
                        <a href="@Url.Action("SubSubCategoryList","Category")"><i class="fa fa-first-order"></i>  @Resource.sub_sub_service_list  <span class="sidebar-collapse-icon ti-angle-down"></span></a>

                    </li>
                    <li>
                        <a href="@Url.Action("Notifications","Admin")"><i class="fa fa-bell"></i>  @Resource.notifications <span class="sidebar-collapse-icon ti-angle-down"></span></a>

                    </li>
                    <li>
                        <a href="@Url.Action("AdminChatListing","Admin")"><i class="fa fa-user-circle-o"></i>  @Resource.chat_list <span class="sidebar-collapse-icon ti-angle-down"></span></a>

                    </li>
                    <li>
                        <a href="@Url.Action("Orders","Admin")"><i class="fa fa-list-alt"></i>  @Resource.orders <span class="sidebar-collapse-icon ti-angle-down"></span></a>
                    </li>
                    <li>
                        <a href="@Url.Action("AboutUs","Admin")"><i class="fa fa-dashboard"></i>  @Resource.about_us <span class="sidebar-collapse-icon ti-angle-down"></span></a>
                    </li>
                    <li>
                        <a href="@Url.Action("TermsConditions","Admin")"><i class="fa fa-dashboard"></i> @Resource.terms_conditions <span class="sidebar-collapse-icon ti-angle-down"></span></a>
                    </li>
                    <li>
                        <a href="@Url.Action("AddUpdatePrivacyPolicy","Admin")"><i class="fa fa-dashboard"></i> @Resource.privacy_policy <span class="sidebar-collapse-icon ti-angle-down"></span></a>
                    </li>
                    <li>
                        <a href="@Url.Action("GetTestimonials","Admin")"><i class="fa fa-plus-square"></i>  @Resource.testimonials <span class="sidebar-collapse-icon ti-angle-down"></span></a>
                    </li>
                    <li>
                        <a href="@Url.Action("Setting","Admin")"><i class="fa fa-key"></i>  @Resource.settings <span class="sidebar-collapse-icon ti-angle-down"></span></a>
                    </li>
                </ul>
            </div>
        </div>
    </div>
    <!-- /# sidebar -->
    <div class="header">
        <div class="container-fluid">
            <div class="row">
                <div class="col-lg-12">
                    <div class="d-flex menu_box">
                        <div class="hamburger sidebar-toggle">
                            <span class="line"></span>
                            <span class="line"></span>
                            <span class="line"></span>
                        </div>
                        <div class="float-right bell_name">
                            <ul>

                                <li class="header-icon dib" id="jobRequestCount" style="display:none">
                                    <a href="@Url.Action("Notifications", "Admin")">
                                        <span class="user_notoficaton">
                                            <i class="fa fa-bell"></i>
                                            <div id="dvCount" class="notify_count"></div>
                                        </span>
                                    </a>
                                </li>
                                <a href="#" class="flag_img" style="display: inline-block;" data-toggle="modal" data-target="#Choose_language_modal"><img src="~/Images/language_change.png" alt="language" /></a>
                                <li class="header-icon dib">
                                    <span class="user-avatar">
                                        @Session["AdminName"]
                                        <i class="fa fa-angle-down"></i>
                                    </span>
                                    <div class="drop-down dropdown-profile">
                                        <div class="dropdown-content-body">
                                            <ul class="text-left">
                                                <li>
                                                    <a href="@Url.Action("UpdateProfile", "Admin")"><i class="fa fa-user"></i> <span>@Resource.view_profile</span></a>
                                                </li>
                                                <li><a href="@Url.Action("ChangePassword", "Admin")"><i class="fa fa-key"></i> <span>@Resource.change_password</span></a></li>
                                                <li>
                                                    <a class="fa fa-sign-out" href="@Url.Action("Logout", "Admin")"><span>@Resource.logout</span></a>
                                                </li>
                                            </ul>
                                        </div>
                                    </div>
                                </li>
                            </ul>
                        </div>
                        <!-- <div class=" bell_name">
                            <a href="@Url.Action("Notifications", "Admin")">
                                <span class="user_notoficaton">
                                    <i class="fa fa-bell"></i>
                                    <div id="dvCount" class="notify_count"></div>
                                </span>
                            </a>

                            <a href="#" class="flag_img" data-toggle="modal" data-target="#Choose_language_modal"><img src="~/Images/language_change.png" alt="language" /></a>

                            <div class="header-icon dib">
                                <span class="user-avatar">
                                    @Session["AdminName"]
                                    <i class="fa fa-angle-down"></i>
                                </span>
                                <div class="drop-down dropdown-profile">
                                    <div class="dropdown-content-body">
                                        <ul>
                                            <li>
                                                <a href="@Url.Action("UpdateProfile", "Admin")"><i class="fa fa-user"></i> <span>@Resource.view_profile</span></a>
                                            </li>
                                            <li><a href="@Url.Action("ChangePassword", "Admin")"><i class="fa fa-key"></i> <span>@Resource.change_password</span></a></li>
                                            <li>
                                                <a class="fa fa-sign-out" href="@Url.Action("Logout", "Admin")"><span>@Resource.logout</span></a>
                                            </li>
                                        </ul>
                                    </div>
                                </div>
                            </div>
                        </div> -->
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="content-wrap">
        <div class="main">
            <div class="container-fluid">
                @RenderBody()
            </div>
        </div>
    </div>

    <!-- Choose Language Popup -->
    <div id="Choose_language_modal" class="choose_lang modal fade">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close pop_close" data-dismiss="modal" aria-hidden="true"><i class="fa fa-times"></i></button>
                    <h4 class="modal-title">@Resource.change_language</h4>
                </div>
                <div class="choose-modal-body">
                    <form class="my-4">
                        @{
                            for (int i = 0; i < LanguageMang.AvailableLanguages.Count; i++)
                            {
                                <div class="inputGroup">
                                    <input id="@LanguageMang.AvailableLanguages[i].LanguageCultureName" name="radio" type="radio" />
                                    <label for="@LanguageMang.AvailableLanguages[i].LanguageCultureName">@LanguageMang.AvailableLanguages[i].LanguageFullName</label>
                                </div>
                            }
                        }
                        <div class="w-100 text-center mt-5">
                            <button type="button" class="btn btn-primary choose_language_done">@Resource.done</button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>

    <!-- jquery vendor -->
    <script src="~/Content/js/jquery.min.js"></script>
    <script src="~/Content/js/jquery.nanoscroller.min.js"></script>
    <!-- nano scroller -->
    <script src="~/Content/js/sidebar.js"></script>
    <script src="~/Content/js/pace.min.js"></script>
    <!-- sidebar -->
    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy" crossorigin="anonymous"></script>
    <!-- bootstrap -->
    <script src="~/Content/js/scripts.js"></script>
    <!-- scripit init-->
    <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
    <script>
        AOS.init();
    </script>
    <script>
        bindNotifications();
        function bindNotifications() {
                $.ajax({
                url: "@Url.Action("GetPendingJobRequestCount", "Admin")",
                data: {},
                dataType: "json",
                type: "GET",
                error: function () {
                    // alert(" An error occurred.");
                },
                success: function (data) {

                    if (data != 0) {
                        $("#jobRequestCount").show();
                        $("#dvCount").html(data);
                    }
                    else {
                        $("#jobRequestCount").hide();
                    }
                }
            });
        }
        window.setInterval(function () {
            bindNotifications();
        }, 10000);




        $(function () {
            var current = location.pathname;
            var segment = current.split("/").length - 1 - (current.indexOf("http://") == -1 ? 0 : 2);
            if (segment == 3) {
                $('.panel-default').removeClass('active');
                return false;
            }
            $('.clickActive li a').each(function () {
                $(this).parent().removeClass('active');
                var $this = $(this);
                console.log(current);
                matching_value = $this.attr('href');
                if (current.indexOf(matching_value) !== -1) {
                    console.log("matched");
                    $(this).parent().addClass('active');
                }
            });
        });
    </script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <script>
        $(document).ready(function () {
            $(".panel-default").click(function () {
                $(".dropdownmenu").slideToggle();
            });

             var cookieValue = "@Request.Cookies["culture"].Value.ToLower()";
            $("input[name=radio]").each(function () {
                if (this.id.toLowerCase() == cookieValue.toLowerCase()) {
                    $(this).prop('checked', true);
                }
            });

            $(".choose_language_done").click(function () {
                var selectedValue = $('input[name=radio]:checked').attr('id');
                window.location.href = "/Home/ChangeLanguage?lang=" + selectedValue;
            });
        });
    </script>
    <environment include="Development">
        <script src="~/Content/lib/jquery/dist/jquery.js"></script>
        <script src="~/Content/lib/bootstrap/dist/js/bootstrap.bundle.js"></script>
    </environment>
    <environment exclude="Development">
        <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"
                asp-fallback-src="~/Content/lib/jquery/dist/jquery.min.js"
                asp-fallback-test="window.jQuery"
                crossorigin="anonymous"
                integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8="></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/js/bootstrap.bundle.min.js"
                asp-fallback-src="~/Content/lib/bootstrap/dist/js/bootstrap.bundle.min.js"
                asp-fallback-test="window.jQuery && window.jQuery.fn && window.jQuery.fn.modal"
                crossorigin="anonymous"
                integrity="sha256-E/V4cWE4qvAeO5MOhjtGtqDzPndRO1LBk8lJ/PR7CA4="></script>
    </environment>
    <script src="~/Content/js/site.js" asp-append-version="true"></script>
    @RenderSection("Scripts", required: false)
    <script src="~/Content/lib/jquery-validation/dist/jquery.validate.min.js"></script>
    <script src="~/Content/lib/jquery-validation-unobtrusive/jquery.validate.unobtrusive.min.js"></script>
    <script src="~/Content/lib/jquery/dist/jquery.min.js"></script>
</body>
</html>